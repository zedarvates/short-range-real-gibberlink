[package]
name = "rgibberlink-core-wasm"
version = "0.3.0"
edition = "2021"
description = "WebAssembly bindings for RealGibber secure communication protocol"
license = "GPL-3.0"

[lib]
name = "gibberlink_core_wasm"
crate-type = ["cdylib"]

[dependencies]
aes-gcm = "0.10"
hmac = "0.12"
sha2 = "0.10"
rand = "0.8"
getrandom = { version = "0.2", features = ["js"] }
x25519-dalek = "2.0"
ed25519-dalek = "2.0"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
serde_cbor = "0.11"
bincode = "1.3"
hex = "0.4"
thiserror = "1.0"
crc32fast = "1.3"
zeroize = { version = "1.6", features = ["zeroize_derive"] }
qrcode = { version = "0.13", optional = true }
reed-solomon-erasure = "6.0"

# WebAssembly support
wasm-bindgen = "0.2"
wasm-bindgen-futures = "0.4"
web-sys = { version = "0.3", features = ["console"] }
js-sys = "0.3"

[features]
default = ["short-range"]
short-range = ["qrcode"]